/*!
 * Masonry PACKAGED v3.1.3
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
(function(b){function c(){}function a(f){function e(i){i.prototype.option||(i.prototype.option=function(j){f.isPlainObject(j)&&(this.options=f.extend(!0,this.options,j))})}function h(k,j){f.fn[k]=function(t){if("string"==typeof t){for(var n=d.call(arguments,1),i=0,m=this.length;m>i;i++){var r=this[i],l=f.data(r,k);if(l){if(f.isFunction(l[t])&&"_"!==t.charAt(0)){var q=l[t].apply(l,n);if(void 0!==q){return q}}else{g("no such method '"+t+"' for "+k+" instance")}}else{g("cannot call methods on "+k+" prior to initialization; attempted to call '"+t+"'")}}return this}return this.each(function(){var o=f.data(this,k);o?(o.option(t),o._init()):(o=new j(this,t),f.data(this,k,o))})}}if(f){var g="undefined"==typeof console?c:function(i){console.error(i)};return f.bridget=function(i,j){e(j),h(i,j)},f.bridget}}var d=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],a):a(b.jQuery)})(window),function(b){var c=document.documentElement,a=function(){};c.addEventListener?a=function(h,j,g){h.addEventListener(j,g,!1)}:c.attachEvent&&(a=function(h,g,j){h[g+j]=j.handleEvent?function(){var i=b.event;i.target=i.target||i.srcElement,j.handleEvent.call(j,i)}:function(){var e=b.event;e.target=e.target||e.srcElement,j.call(h,e)},h.attachEvent("on"+g,h[g+j])});var f=function(){};c.removeEventListener?f=function(h,j,g){h.removeEventListener(j,g,!1)}:c.detachEvent&&(f=function(h,j,g){h.detachEvent("on"+j,h[j+g]);try{delete h[j+g]}catch(k){h[j+g]=void 0}});var d={bind:a,unbind:f};"function"==typeof define&&define.amd?define("eventie/eventie",d):b.eventie=d}(this),function(b){function d(e){"function"==typeof e&&(d.isReady?e():c.push(e))}function a(j){var h="readystatechange"===j.type&&"complete"!==f.readyState;if(!d.isReady&&!h){d.isReady=!0;for(var l=0,k=c.length;k>l;l++){var e=c[l];e()}}}function g(e){return e.bind(f,"DOMContentLoaded",a),e.bind(f,"readystatechange",a),e.bind(b,"load",a),d}var f=b.document,c=[];d.isReady=!1,"function"==typeof define&&define.amd?(d.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],g)):b.docReady=g(b.eventie)}(this),function(){function b(){}function c(g,h){for(var f=g.length;f--;){if(g[f].listener===h){return f}}return -1}function a(e){return function(){return this[e].apply(this,arguments)}}var d=b.prototype;d.getListeners=function(g){var h,f,j=this._getEvents();if("object"==typeof g){h={};for(f in j){j.hasOwnProperty(f)&&g.test(f)&&(h[f]=j[f])}}else{h=j[g]||(j[g]=[])}return h},d.flattenListeners=function(g){var h,f=[];for(h=0;g.length>h;h+=1){f.push(g[h].listener)}return f},d.getListenersAsObject=function(g){var h,f=this.getListeners(g);return f instanceof Array&&(h={},h[g]=f),h||f},d.addListener=function(f,e){var j,h=this.getListenersAsObject(f),g="object"==typeof e;for(j in h){h.hasOwnProperty(j)&&-1===c(h[j],e)&&h[j].push(g?e:{listener:e,once:!1})}return this},d.on=a("addListener"),d.addOnceListener=function(f,g){return this.addListener(f,{listener:g,once:!0})},d.once=a("addOnceListener"),d.defineEvent=function(e){return this.getListeners(e),this},d.defineEvents=function(f){for(var g=0;f.length>g;g+=1){this.defineEvent(f[g])}return this},d.removeListener=function(f,e){var j,h,g=this.getListenersAsObject(f);for(h in g){g.hasOwnProperty(h)&&(j=c(g[h],e),-1!==j&&g[h].splice(j,1))}return this},d.off=a("removeListener"),d.addListeners=function(f,g){return this.manipulateListeners(!1,f,g)},d.removeListeners=function(f,g){return this.manipulateListeners(!0,f,g)},d.manipulateListeners=function(g,k,f){var m,l,j=g?this.removeListener:this.addListener,h=g?this.removeListeners:this.addListeners;if("object"!=typeof k||k instanceof RegExp){for(m=f.length;m--;){j.call(this,k,f[m])}}else{for(m in k){k.hasOwnProperty(m)&&(l=k[m])&&("function"==typeof l?j.call(this,m,l):h.call(this,m,l))}}return this},d.removeEvent=function(g){var h,f=typeof g,j=this._getEvents();if("string"===f){delete j[g]}else{if("object"===f){for(h in j){j.hasOwnProperty(h)&&g.test(h)&&delete j[h]}}else{delete this._events}}return this},d.removeAllListeners=a("removeEvent"),d.emitEvent=function(g,k){var f,m,l,j,h=this.getListenersAsObject(g);for(l in h){if(h.hasOwnProperty(l)){for(m=h[l].length;m--;){f=h[l][m],f.once===!0&&this.removeListener(g,f.listener),j=f.listener.apply(this,k||[]),j===this._getOnceReturnValue()&&this.removeListener(g,f.listener)}}}return this},d.trigger=a("emitEvent"),d.emit=function(f){var g=Array.prototype.slice.call(arguments,1);return this.emitEvent(f,g)},d.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},d._getEvents=function(){return this._events||(this._events={})},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return b}):"object"==typeof module&&module.exports?module.exports=b:this.EventEmitter=b}.call(this),function(b){function c(f){if(f){if("string"==typeof d[f]){return f}f=f.charAt(0).toUpperCase()+f.slice(1);for(var h,i=0,g=a.length;g>i;i++){if(h=a[i]+f,"string"==typeof d[h]){return h}}}}var a="Webkit Moz ms Ms O".split(" "),d=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return c}):b.getStyleProperty=c}(window),function(d){function h(l){var m=parseFloat(l),a=-1===l.indexOf("%")&&!isNaN(m);return a&&m}function c(){for(var l={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},m=0,a=b.length;a>m;m++){var o=b[m];l[o]=0}return l}function k(a){function m(B){if("string"==typeof B&&(B=document.querySelector(B)),B&&"object"==typeof B&&B.nodeType){var D=f(B);if("none"===D.display){return c()}var C={};C.width=B.offsetWidth,C.height=B.offsetHeight;for(var x=C.isBorderBox=!(!i||!D[i]||"border-box"!==D[i]),I=0,J=b.length;J>I;I++){var G=b[I],K=D[G];K=l(B,K);var F=parseFloat(K);C[G]=isNaN(F)?0:F}var s=C.paddingLeft+C.paddingRight,H=C.paddingTop+C.paddingBottom,w=C.marginLeft+C.marginRight,N=C.marginTop+C.marginBottom,M=C.borderLeftWidth+C.borderRightWidth,A=C.borderTopWidth+C.borderBottomWidth,p=x&&e,q=h(D.width);q!==!1&&(C.width=q+(p?0:s+M));var o=h(D.height);return o!==!1&&(C.height=o+(p?0:H+A)),C.innerWidth=C.width-(s+M),C.innerHeight=C.height-(H+A),C.outerWidth=C.width+w,C.outerHeight=C.height+N,C}}function l(q,u){if(g||-1===u.indexOf("%")){return u}var p=q.style,w=p.left,v=q.runtimeStyle,r=v&&v.left;return r&&(v.left=q.currentStyle.left),p.left=u,u=p.pixelLeft,p.left=w,r&&(v.left=r),u}var e,i=a("boxSizing");return function(){if(i){var p=document.createElement("div");p.style.width="200px",p.style.padding="1px 2px 3px 4px",p.style.borderStyle="solid",p.style.borderWidth="1px 2px 3px 4px",p.style[i]="border-box";var o=document.body||document.documentElement;o.appendChild(p);var q=f(p);e=200===h(q.width),o.removeChild(p)}}(),m}var j=document.defaultView,g=j&&j.getComputedStyle,f=g?function(a){return j.getComputedStyle(a,null)}:function(a){return a.currentStyle},b=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],k):d.getSize=k(d.getStyleProperty)}(window),function(m,k){function g(a,h){return a[l](h)}function f(a){if(!a.parentNode){var h=document.createDocumentFragment();h.appendChild(a)}}function d(h,p){f(h);for(var a=h.parentNode.querySelectorAll(p),s=0,n=a.length;n>s;s++){if(a[s]===h){return !0}}return !1}function b(a,h){return f(a),g(a,h)}var q,l=function(){if(k.matchesSelector){return"matchesSelector"}for(var e=["webkit","moz","ms","o"],a=0,s=e.length;s>a;a++){var p=e[a],h=p+"MatchesSelector";if(k[h]){return h}}}();if(l){var j=document.createElement("div"),c=g(j,"div");q=c?g:b}else{q=d}"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return q}):window.matchesSelector=q}(this,Element.prototype),function(b){function f(k,l){for(var j in l){k[j]=l[j]}return k}function a(i){for(var j in i){return !1}return j=null,!0}function h(e){return e.replace(/([A-Z])/g,function(i){return"-"+i.toLowerCase()})}function g(E,j,e){function B(l,m){l&&(this.element=l,this.layout=m,this.position={x:0,y:0},this._create())}var q=e("transition"),i=e("transform"),D=q&&i,w=!!e("perspective"),x={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[q],n=["transform","transition","transitionDuration","transitionProperty"],z=function(){for(var m={},p=0,l=n.length;l>p;p++){var u=n[p],r=e(u);r&&r!==u&&(m[u]=r)}return m}();f(B.prototype,E.prototype),B.prototype._create=function(){this._transition={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},B.prototype.handleEvent=function(l){var m="on"+l.type;this[m]&&this[m](l)},B.prototype.getSize=function(){this.size=j(this.element)},B.prototype.css=function(m){var o=this.element.style;for(var l in m){var p=z[l]||l;o[p]=m[l]}},B.prototype.getPosition=function(){var p=c(this.element),v=this.layout.options,m=v.isOriginLeft,F=v.isOriginTop,y=parseInt(p[m?"left":"right"],10),u=parseInt(p[F?"top":"bottom"],10);y=isNaN(y)?0:y,u=isNaN(u)?0:u;var l=this.layout.size;y-=m?l.paddingLeft:l.paddingRight,u-=F?l.paddingTop:l.paddingBottom,this.position.x=y,this.position.y=u},B.prototype.layoutPosition=function(){var m=this.layout.size,o=this.layout.options,l={};o.isOriginLeft?(l.left=this.position.x+m.paddingLeft+"px",l.right=""):(l.right=this.position.x+m.paddingRight+"px",l.left=""),o.isOriginTop?(l.top=this.position.y+m.paddingTop+"px",l.bottom=""):(l.bottom=this.position.y+m.paddingBottom+"px",l.top=""),this.css(l),this.emitEvent("layout",[this])};var k=w?function(l,m){return"translate3d("+l+"px, "+m+"px, 0)"}:function(l,m){return"translate("+l+"px, "+m+"px)"};B.prototype._transitionTo=function(K,H){this.getPosition();var F=this.position.x,y=this.position.y,v=parseInt(K,10),l=parseInt(H,10),L=v===this.position.x&&l===this.position.y;if(this.setPosition(K,H),L&&!this.isTransitioning){return this.layoutPosition(),void 0}var I=K-F,G=H-y,m={},J=this.layout.options;I=J.isOriginLeft?I:-I,G=J.isOriginTop?G:-G,m.transform=k(I,G),this.transition({to:m,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},B.prototype.goTo=function(l,m){this.setPosition(l,m),this.layoutPosition()},B.prototype.moveTo=D?B.prototype._transitionTo:B.prototype.goTo,B.prototype.setPosition=function(l,m){this.position.x=parseInt(l,10),this.position.y=parseInt(m,10)},B.prototype._nonTransition=function(l){this.css(l.to),l.isCleaning&&this._removeStyles(l.to);for(var m in l.onTransitionEnd){l.onTransitionEnd[m].call(this)}},B.prototype._transition=function(m){if(!parseFloat(this.layout.options.transitionDuration)){return this._nonTransition(m),void 0}var o=this._transition;for(var l in m.onTransitionEnd){o.onEnd[l]=m.onTransitionEnd[l]}for(l in m.to){o.ingProperties[l]=!0,m.isCleaning&&(o.clean[l]=!0)}if(m.from){this.css(m.from);var p=this.element.offsetHeight;p=null}this.enableTransition(m.to),this.css(m.to),this.isTransitioning=!0};var A=i&&h(i)+",opacity";B.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:A,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(x,this,!1))},B.prototype.transition=B.prototype[q?"_transition":"_nonTransition"],B.prototype.onwebkitTransitionEnd=function(l){this.ontransitionend(l)},B.prototype.onotransitionend=function(l){this.ontransitionend(l)};var s={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};B.prototype.ontransitionend=function(l){if(l.target===this.element){var m=this._transition,r=s[l.propertyName]||l.propertyName;if(delete m.ingProperties[r],a(m.ingProperties)&&this.disableTransition(),r in m.clean&&(this.element.style[l.propertyName]="",delete m.clean[r]),r in m.onEnd){var p=m.onEnd[r];p.call(this),delete m.onEnd[r]}this.emitEvent("transitionEnd",[this])}},B.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(x,this,!1),this.isTransitioning=!1},B.prototype._removeStyles=function(m){var o={};for(var l in m){o[l]=""}this.css(o)};var C={transitionProperty:"",transitionDuration:""};return B.prototype.removeTransitionStyles=function(){this.css(C)},B.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},B.prototype.remove=function(){if(!q||!parseFloat(this.layout.options.transitionDuration)){return this.removeElem(),void 0}var l=this;this.on("transitionEnd",function(){return l.removeElem(),!0}),this.hide()},B.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var l=this.layout.options;this.transition({from:l.hiddenStyle,to:l.visibleStyle,isCleaning:!0})},B.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var l=this.layout.options;this.transition({from:l.visibleStyle,to:l.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},B.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},B}var d=document.defaultView,c=d&&d.getComputedStyle?function(e){return d.getComputedStyle(e,null)}:function(e){return e.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],g):(b.Outlayer={},b.Outlayer.Item=g(b.EventEmitter,b.getSize,b.getStyleProperty))}(window),function(A){function w(d,f){for(var a in f){d[a]=f[a]}return d}function m(a){return"[object Array]"===v.call(a)}function j(a){var d=[];if(m(a)){d=a}else{if(a&&"number"==typeof a.length){for(var h=0,f=a.length;f>h;h++){d.push(a[h])}}else{d.push(a)}}return d}function g(d,f){var a=k(f,d);-1!==a&&f.splice(a,1)}function b(a){return a.replace(/(.)([A-Z])/g,function(f,h,d){return h+"-"+d}).toLowerCase()}function B(e,u,n,d,o,a){function p(l,f){if("string"==typeof l&&(l=y.querySelector(l)),!l||!x(l)){return q&&q.error("Bad "+this.settings.namespace+" element: "+l),void 0}this.element=l,this.options=w({},this.options),this.option(f);var s=++t;this.element.outlayerGUID=s,r[s]=this,this._create(),this.options.isInitLayout&&this.layout()}function h(l,f){l.prototype[f]=w({},p.prototype[f])}var t=0,r={};return p.prototype.settings={namespace:"outlayer",item:a},p.prototype.options={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},w(p.prototype,n.prototype),p.prototype.option=function(f){w(this.options,f)},p.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),w(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},p.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},p.prototype._itemize=function(C){for(var F=this._filterFindItemElements(C),l=this.settings.item,H=[],G=0,E=F.length;E>G;G++){var D=F[G],f=new l(D,this);H.push(f)}return H},p.prototype._filterFindItemElements=function(H){H=j(H);for(var F=this.options.itemSelector,D=[],C=0,f=H.length;f>C;C++){var I=H[C];if(x(I)){if(F){o(I,F)&&D.push(I);for(var G=I.querySelectorAll(F),E=0,l=G.length;l>E;E++){D.push(G[E])}}else{D.push(I)}}}return D},p.prototype.getItemElements=function(){for(var l=[],s=0,f=this.items.length;f>s;s++){l.push(this.items[s].element)}return l},p.prototype.layout=function(){this._resetLayout(),this._manageStamps();var f=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,f),this._isLayoutInited=!0},p.prototype._init=p.prototype.layout,p.prototype._resetLayout=function(){this.getSize()},p.prototype.getSize=function(){this.size=d(this.element)},p.prototype._getMeasurement=function(l,s){var f,C=this.options[l];C?("string"==typeof C?f=this.element.querySelector(C):x(C)&&(f=C),this[l]=f?d(f)[s]:C):this[l]=0},p.prototype.layoutItems=function(f,i){f=this._getItemsForLayout(f),this._layoutItems(f,i),this._postLayout()},p.prototype._getItemsForLayout=function(l){for(var s=[],f=0,D=l.length;D>f;f++){var C=l[f];C.isIgnored||s.push(C)}return s},p.prototype._layoutItems=function(l,E){if(!l||!l.length){return this.emitEvent("layoutComplete",[this,l]),void 0}this._itemsOn(l,"layout",function(){this.emitEvent("layoutComplete",[this,l])});for(var f=[],G=0,F=l.length;F>G;G++){var D=l[G],C=this._getItemLayoutPosition(D);C.item=D,C.isInstant=E,f.push(C)}this._processLayoutQueue(f)},p.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},p.prototype._processLayoutQueue=function(l){for(var s=0,f=l.length;f>s;s++){var C=l[s];this._positionItem(C.item,C.x,C.y,C.isInstant)}},p.prototype._positionItem=function(l,s,f,C){C?l.goTo(s,f):l.moveTo(s,f)},p.prototype._postLayout=function(){var f=this._getContainerSize();f&&(this._setContainerMeasure(f.width,!0),this._setContainerMeasure(f.height,!1))},p.prototype._getContainerSize=z,p.prototype._setContainerMeasure=function(l,s){if(void 0!==l){var f=this.size;f.isBorderBox&&(l+=s?f.paddingLeft+f.paddingRight+f.borderLeftWidth+f.borderRightWidth:f.paddingBottom+f.paddingTop+f.borderTopWidth+f.borderBottomWidth),l=Math.max(l,0),this.element.style[s?"width":"height"]=l+"px"}},p.prototype._itemsOn=function(I,G,E){function D(){return C++,C===f&&E.call(J),!0}for(var C=0,f=I.length,J=this,H=0,F=I.length;F>H;H++){var l=I[H];l.on(G,D)}},p.prototype.ignore=function(f){var i=this.getItem(f);i&&(i.isIgnored=!0)},p.prototype.unignore=function(f){var i=this.getItem(f);i&&delete i.isIgnored},p.prototype.stamp=function(l){if(l=this._find(l)){this.stamps=this.stamps.concat(l);for(var s=0,f=l.length;f>s;s++){var C=l[s];this.ignore(C)}}},p.prototype.unstamp=function(l){if(l=this._find(l)){for(var s=0,f=l.length;f>s;s++){var C=l[s];g(C,this.stamps),this.unignore(C)}}},p.prototype._find=function(f){return f?("string"==typeof f&&(f=this.element.querySelectorAll(f)),f=j(f)):void 0},p.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var l=0,s=this.stamps.length;s>l;l++){var f=this.stamps[l];this._manageStamp(f)}}},p.prototype._getBoundingRect=function(){var f=this.element.getBoundingClientRect(),i=this.size;this._boundingRect={left:f.left+i.paddingLeft+i.borderLeftWidth,top:f.top+i.paddingTop+i.borderTopWidth,right:f.right-(i.paddingRight+i.borderRightWidth),bottom:f.bottom-(i.paddingBottom+i.borderBottomWidth)}},p.prototype._manageStamp=z,p.prototype._getElementOffset=function(l){var s=l.getBoundingClientRect(),f=this._boundingRect,D=d(l),C={left:s.left-f.left-D.marginLeft,top:s.top-f.top-D.marginTop,right:f.right-s.right-D.marginRight,bottom:f.bottom-s.bottom-D.marginBottom};return C},p.prototype.handleEvent=function(f){var i="on"+f.type;this[i]&&this[i](f)},p.prototype.bindResize=function(){this.isResizeBound||(e.bind(A,"resize",this),this.isResizeBound=!0)},p.prototype.unbindResize=function(){e.unbind(A,"resize",this),this.isResizeBound=!1},p.prototype.onresize=function(){function f(){i.resize(),delete i.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var i=this;this.resizeTimeout=setTimeout(f,100)},p.prototype.resize=function(){var f=d(this.element),i=this.size&&f;i&&f.innerWidth===this.size.innerWidth||this.layout()},p.prototype.addItems=function(f){var i=this._itemize(f);return i.length&&(this.items=this.items.concat(i)),i},p.prototype.appended=function(f){var i=this.addItems(f);i.length&&(this.layoutItems(i,!0),this.reveal(i))},p.prototype.prepended=function(l){var s=this._itemize(l);if(s.length){var f=this.items.slice(0);this.items=s.concat(f),this._resetLayout(),this._manageStamps(),this.layoutItems(s,!0),this.reveal(s),this.layoutItems(f)}},p.prototype.reveal=function(l){if(l&&l.length){for(var s=0,f=l.length;f>s;s++){var C=l[s];C.reveal()}}},p.prototype.hide=function(l){if(l&&l.length){for(var s=0,f=l.length;f>s;s++){var C=l[s];C.hide()}}},p.prototype.getItem=function(l){for(var s=0,f=this.items.length;f>s;s++){var C=this.items[s];if(C.element===l){return C}}},p.prototype.getItems=function(l){if(l&&l.length){for(var C=[],f=0,E=l.length;E>f;f++){var D=l[f],s=this.getItem(D);s&&C.push(s)}return C}},p.prototype.remove=function(l){l=j(l);var E=this.getItems(l);if(E&&E.length){this._itemsOn(E,"remove",function(){this.emitEvent("removeComplete",[this,E])});for(var f=0,D=E.length;D>f;f++){var C=E[f];C.remove(),g(C,this.items)}}},p.prototype.destroy=function(){var l=this.element.style;l.height="",l.position="",l.width="";for(var s=0,f=this.items.length;f>s;s++){var C=this.items[s];C.destroy()}this.unbindResize(),delete this.element.outlayerGUID,c&&c.removeData(this.element,this.settings.namespace)},p.data=function(f){var i=f&&f.outlayerGUID;return i&&r[i]},p.create=function(l,f){function s(){p.apply(this,arguments)}return w(s.prototype,p.prototype),h(s,"options"),h(s,"settings"),w(s.prototype.options,f),s.prototype.settings.namespace=l,s.data=p.data,s.Item=function(){a.apply(this,arguments)},s.Item.prototype=new a,s.prototype.settings.item=s.Item,u(function(){for(var H=b(l),F=y.querySelectorAll(".js-"+H),C="data-"+H+"-options",L=0,K=F.length;K>L;L++){var G,I=F[L],E=I.getAttribute(C);try{G=E&&JSON.parse(E)}catch(J){q&&q.error("Error parsing "+C+" on "+I.nodeName.toLowerCase()+(I.id?"#"+I.id:"")+": "+J);continue}var D=new s(I,G);c&&c.data(I,l,D)}}),c&&c.bridget&&c.bridget(l,s),s},p.Item=a,p}var y=A.document,q=A.console,c=A.jQuery,z=function(){},v=Object.prototype.toString,x="object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"==typeof a&&1===a.nodeType&&"string"==typeof a.nodeName},k=Array.prototype.indexOf?function(a,d){return a.indexOf(d)}:function(d,f){for(var a=0,h=d.length;h>a;a++){if(d[a]===f){return a}}return -1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],B):A.Outlayer=B(A.eventie,A.docReady,A.EventEmitter,A.getSize,A.matchesSelector,A.Outlayer.Item)}(window),function(b){function c(d,f){var g=d.create("masonry");return g.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;){this.colYs.push(0)}this.maxY=0},g.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var h=this.items[0],e=h&&h.element;this.columnWidth=e&&f(e).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},g.prototype.getContainerWidth=function(){var h=this.options.isFitWidth?this.element.parentNode:this.element,e=f(h);this.containerWidth=e&&e.innerWidth},g.prototype._getItemLayoutPosition=function(y){y.getSize();var v=y.size.outerWidth%this.columnWidth,l=v&&1>v?"round":"ceil",k=Math[l](y.size.outerWidth/this.columnWidth);k=Math.min(k,this.cols);for(var i=this._getColGroup(k),z=Math.min.apply(Math,i),w=a(i,z),m={x:this.columnWidth*w,y:z},j=z+y.size.outerHeight,x=this.cols+1-i.length,q=0;x>q;q++){this.colYs[w+q]=j}return m},g.prototype._getColGroup=function(j){if(2>j){return this.colYs}for(var k=[],h=this.cols+1-j,m=0;h>m;m++){var l=this.colYs.slice(m,m+j);k[m]=Math.max.apply(Math,l)}return k},g.prototype._manageStamp=function(v){var m=f(v),l=this._getElementOffset(v),k=this.options.isOriginLeft?l.left:l.right,e=k+m.outerWidth,w=Math.floor(k/this.columnWidth);w=Math.max(0,w);var u=Math.floor(e/this.columnWidth);u=Math.min(this.cols-1,u);for(var q=(this.options.isOriginTop?l.top:l.bottom)+m.outerHeight,j=w;u>=j;j++){this.colYs[j]=Math.max(q,this.colYs[j])}},g.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},g.prototype._getContainerFitWidth=function(){for(var h=0,i=this.cols;--i&&0===this.colYs[i];){h++}return(this.cols-h)*this.columnWidth-this.gutter},g.prototype.resize=function(){var e=this.containerWidth;this.getContainerWidth(),e!==this.containerWidth&&this.layout()},g}var a=Array.prototype.indexOf?function(d,f){return d.indexOf(f)}:function(f,g){for(var d=0,j=f.length;j>d;d++){var h=f[d];if(h===g){return d}}return -1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],c):b.Masonry=c(b.Outlayer,b.getSize)}(window);