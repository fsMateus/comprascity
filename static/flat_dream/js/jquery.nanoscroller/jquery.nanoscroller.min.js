/*! nanoScrollerJS - v0.7.4 - (c) 2013 James Florentino; Licensed MIT */
;!function(V,U,T){var S,R,Q,P,O,N,M,L,K,J,I,H,G,F,E,D,C,B,A,z,y;z={paneClass:"pane",sliderClass:"slider",contentClass:"content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},D="scrollbar",E="scroll",L="mousedown",K="mousemove",I="mousewheel",J="mouseup",F="resize",O="drag",B="up",G="panedown",Q="DOMMouseScroll",P="down",A="wheel",N="keydown",M="keyup",C="touchmove",S="Microsoft Internet Explorer"===U.navigator.appName&&/msie 7./i.test(U.navigator.appVersion)&&U.ActiveXObject,R=null,y=function(){var e,c,f;return e=T.createElement("div"),c=e.style,c.position="absolute",c.width="100px",c.height="100px",c.overflow=E,c.top="-9999px",T.body.appendChild(e),f=e.offsetWidth-e.clientWidth,T.body.removeChild(e),f},H=function(){function a(c,b){this.el=c,this.options=b,R||(R=y()),this.$el=V(this.el),this.doc=V(this.options.documentContext||T),this.win=V(this.options.windowContext||U),this.$content=this.$el.children("."+b.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return a.prototype.preventScrolling=function(d,c){if(this.isActive){if(d.type===Q){(c===P&&d.originalEvent.detail>0||c===B&&d.originalEvent.detail<0)&&d.preventDefault()}else{if(d.type===I){if(!d.originalEvent||!d.originalEvent.wheelDelta){return}(c===P&&d.originalEvent.wheelDelta<0||c===B&&d.originalEvent.wheelDelta>0)&&d.preventDefault()}}}},a.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},a.prototype.updateScrollValues=function(){var b;b=this.content,this.maxScrollTop=b.scrollHeight-b.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=b.scrollTop,this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},a.prototype.createEvents=function(){var b=this;this.events={down:function(c){return b.isBeingDragged=!0,b.offsetY=c.pageY-b.slider.offset().top,b.pane.addClass("active"),b.doc.bind(K,b.events[O]).bind(J,b.events[B]),!1},drag:function(c){return b.sliderY=c.pageY-b.$el.offset().top-b.offsetY,b.scroll(),b.updateScrollValues(),b.contentScrollTop>=b.maxScrollTop&&b.prevScrollTop!==b.maxScrollTop?b.$el.trigger("scrollend"):0===b.contentScrollTop&&0!==b.prevScrollTop&&b.$el.trigger("scrolltop"),!1},up:function(){return b.isBeingDragged=!1,b.pane.removeClass("active"),b.doc.unbind(K,b.events[O]).unbind(J,b.events[B]),!1},resize:function(){b.reset()},panedown:function(c){return b.sliderY=(c.offsetY||c.originalEvent.layerY)-0.5*b.sliderHeight,b.scroll(),b.events.down(c),!1},scroll:function(c){b.isBeingDragged||(b.updateScrollValues(),b.iOSNativeScrolling||(b.sliderY=b.sliderTop,b.slider.css({top:b.sliderTop})),null!=c&&(b.contentScrollTop>=b.maxScrollTop?(b.options.preventPageScrolling&&b.preventScrolling(c,P),b.prevScrollTop!==b.maxScrollTop&&b.$el.trigger("scrollend")):0===b.contentScrollTop&&(b.options.preventPageScrolling&&b.preventScrolling(c,B),0!==b.prevScrollTop&&b.$el.trigger("scrolltop"))))},wheel:function(d){var e;if(null!=d){return e=d.delta||d.wheelDelta||d.originalEvent&&d.originalEvent.wheelDelta||-d.detail||d.originalEvent&&-d.originalEvent.detail,e&&(b.sliderY+=-e/3),b.scroll(),!1}}}},a.prototype.addEvents=function(){var b;this.removeEvents(),b=this.events,this.options.disableResize||this.win.bind(F,b[F]),this.iOSNativeScrolling||(this.slider.bind(L,b[P]),this.pane.bind(L,b[G]).bind(""+I+" "+Q,b[A])),this.$content.bind(""+E+" "+I+" "+Q+" "+C,b[E])},a.prototype.removeEvents=function(){var b;b=this.events,this.win.unbind(F,b[F]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+E+" "+I+" "+Q+" "+C,b[E])},a.prototype.generate=function(){var g,e,j,i,h;return j=this.options,i=j.paneClass,h=j.sliderClass,g=j.contentClass,this.$el.find(""+i).length||this.$el.find(""+h).length||this.$el.append('<div class="'+i+'"><div class="'+h+'" /></div>'),this.pane=this.$el.children("."+i),this.slider=this.pane.find("."+h),R&&(e={right:-R},this.$el.addClass("has-scrollbar")),null!=e&&this.$content.css(e),this},a.prototype.restore=function(){this.stopped=!1,this.pane.show(),this.addEvents()},a.prototype.reset=function(){var t,s,r,q,p,o,n,m,e,d;return this.iOSNativeScrolling?(this.contentHeight=this.content.scrollHeight,void 0):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),t=this.content,r=t.style,q=r.overflowY,S&&this.$content.css({height:this.$content.height()}),s=t.scrollHeight+R,e=parseInt(this.$el.css("max-height"),10),e>0&&(this.$el.height(""),this.$el.height(t.scrollHeight>e?e:t.scrollHeight)),o=this.pane.outerHeight(!1),m=parseInt(this.pane.css("top"),10),p=parseInt(this.pane.css("bottom"),10),n=o+m+p,d=Math.round(n/s*n),d<this.options.sliderMinHeight?d=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&d>this.options.sliderMaxHeight&&(d=this.options.sliderMaxHeight),q===E&&r.overflowX!==E&&(d+=R),this.maxSliderTop=n-d,this.contentHeight=s,this.paneHeight=o,this.paneOuterHeight=n,this.sliderHeight=d,this.slider.height(d),this.events.scroll(),this.pane.show(),this.isActive=!0,t.scrollHeight===t.clientHeight||this.pane.outerHeight(!0)>=t.scrollHeight&&q!==E?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===t.scrollHeight&&q===E?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),this)},a.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(-1*((this.paneHeight-this.contentHeight+R)*this.sliderY/this.maxSliderTop)),this.iOSNativeScrolling||this.slider.css({top:this.sliderY}),this):void 0},a.prototype.scrollBottom=function(b){return this.isActive?(this.reset(),this.$content.scrollTop(this.contentHeight-this.$content.height()-b).trigger(I),this):void 0},a.prototype.scrollTop=function(b){return this.isActive?(this.reset(),this.$content.scrollTop(+b).trigger(I),this):void 0},a.prototype.scrollTo=function(c){return this.isActive?(this.reset(),this.scrollTop(V(c).get(0).offsetTop),this):void 0},a.prototype.stop=function(){return this.stopped=!0,this.removeEvents(),this.pane.hide(),this},a.prototype.destroy=function(){return this.stopped||this.stop(),this.pane.length&&this.pane.remove(),S&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass("has-scrollbar")&&(this.$el.removeClass("has-scrollbar"),this.$content.css({right:""})),this},a.prototype.flash=function(){var b=this;if(this.isActive){return this.reset(),this.pane.addClass("flashed"),setTimeout(function(){b.pane.removeClass("flashed")},this.options.flashDelay),this}},a}(),V.fn.nanoScroller=function(a){return this.each(function(){var e,b;if((b=this.nanoscroller)||(e=V.extend({},z,a),this.nanoscroller=b=new H(this,e)),a&&"object"==typeof a){if(V.extend(b.options,a),a.scrollBottom){return b.scrollBottom(a.scrollBottom)}if(a.scrollTop){return b.scrollTop(a.scrollTop)}if(a.scrollTo){return b.scrollTo(a.scrollTo)}if("bottom"===a.scroll){return b.scrollBottom(0)}if("top"===a.scroll){return b.scrollTop(0)}if(a.scroll&&a.scroll instanceof V){return b.scrollTo(a.scroll)}if(a.stop){return b.stop()}if(a.destroy){return b.destroy()}if(a.flash){return b.flash()}}return b.reset()})},V.fn.nanoScroller.Constructor=H}(jQuery,window,document);